================================================================================
ARCHITECTURE OVERVIEW - FEATURES 3 & 5
================================================================================

================================================================================
SYSTEM ARCHITECTURE DIAGRAM
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FRONTEND (Browser)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    User Interface                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Home View  â”‚  Search  â”‚  Explore  â”‚  Reels  â”‚  ğŸ“Š Monitoring  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Monitoring Dashboard (Feature 5)                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ System Health   â”‚  â”‚ Activity Stats  â”‚  â”‚ Activity Logs   â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ - Uptime        â”‚  â”‚ - Event Counts  â”‚  â”‚ - Log Entries   â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ - Memory        â”‚  â”‚ - Error Count   â”‚  â”‚ - Filtering     â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ - CPU           â”‚  â”‚ - Total Events  â”‚  â”‚ - Timestamps    â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Real-Time Notifications (Feature 3)                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Socket.IO Client                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Like notifications                                        â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Comment notifications                                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - New post notifications                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Follow notifications                                     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Online status updates                                    â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  JavaScript Modules:                                                        â”‚
â”‚  - app.js (Main application logic)                                          â”‚
â”‚  - realtimeNotifications.js (Socket.IO client)                              â”‚
â”‚  - monitoring.js (Dashboard logic)                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
                    â–¼               â–¼               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  REST API Calls  â”‚ â”‚ Socket.IO    â”‚ â”‚ SSE Stream   â”‚
         â”‚  (HTTP)          â”‚ â”‚ (WebSocket)  â”‚ â”‚ (Events)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BACKEND (Node.js/Express)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    API Routes & Middleware                           â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  POST /api/posts              GET /api/posts                        â”‚  â”‚
â”‚  â”‚  POST /api/posts/:id/like     POST /api/posts/:id/comments         â”‚  â”‚
â”‚  â”‚  DELETE /api/posts/:id        GET /api/auth/*                      â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Logging Middleware (Feature 5)                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - requestLoggingMiddleware: Logs all API requests         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - errorLoggingMiddleware: Logs errors                     â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Monitoring Routes (Feature 5)                           â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  GET /api/monitoring/health   - System health status               â”‚  â”‚
â”‚  â”‚  GET /api/monitoring/stats    - Activity statistics                â”‚  â”‚
â”‚  â”‚  GET /api/monitoring/logs     - Activity logs with filters         â”‚  â”‚
â”‚  â”‚  GET /api/monitoring/events   - Server-Sent Events stream          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Socket.IO Service (Feature 3)                           â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Socket.IO Server                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Connection management                                   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Event broadcasting                                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Active user tracking                                    â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Events:                                                            â”‚  â”‚
â”‚  â”‚  - post-liked: Broadcast like events                               â”‚  â”‚
â”‚  â”‚  - comment-added: Broadcast comment events                         â”‚  â”‚
â”‚  â”‚  - post-created: Broadcast new posts                               â”‚  â”‚
â”‚  â”‚  - user-followed: Broadcast follow events                          â”‚  â”‚
â”‚  â”‚  - user-status: Broadcast online/offline status                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Activity Logger Service (Feature 5)                     â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  logActivity()      - Log activity to DB and Redis                 â”‚  â”‚
â”‚  â”‚  logApiRequest()    - Log HTTP requests with timing                â”‚  â”‚
â”‚  â”‚  logError()         - Log errors with context                      â”‚  â”‚
â”‚  â”‚  getActivityLogs()  - Query logs with filters                      â”‚  â”‚
â”‚  â”‚  getActivityStats() - Get aggregated statistics                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Data Models                                             â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  - User.js          - User model                                    â”‚  â”‚
â”‚  â”‚  - Post.js          - Post model                                    â”‚  â”‚
â”‚  â”‚  - ActivityLog.js   - Activity log model (Feature 5)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚               â”‚
                    â–¼               â–¼               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  MongoDB Queries â”‚ â”‚ Redis Pub/Subâ”‚ â”‚ Event Stream â”‚
         â”‚  (REST)          â”‚ â”‚ (WebSocket)  â”‚ â”‚ (SSE)        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL SERVICES & DATABASES                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          MongoDB                                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Collections:                                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - users                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - posts                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - activity_logs (Feature 5)                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    * Indexed: eventType, userId, timestamp                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    * TTL: 30 days auto-deletion                           â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          Redis                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Pub/Sub Channels:                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - post-events: Post-related events                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - user-events: User-related events                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - activity-logs: System activity events (Feature 5)       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Features:                                                 â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Real-time message broadcasting                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Distributed event handling                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Cross-server communication                              â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
DATA FLOW DIAGRAMS
================================================================================

FEATURE 3: Real-Time Notification Flow
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

User Action (Like Post)
        â”‚
        â–¼
POST /api/posts/:id/like
        â”‚
        â–¼
Update Post in MongoDB
        â”‚
        â–¼
Socket.IO emit('post-liked')
        â”‚
        â–¼
Redis publish('post-events')
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â–¼                                 â–¼
Redis Subscriber                   Socket.IO Broadcast
        â”‚                                 â”‚
        â–¼                                 â–¼
Socket.IO emit to all clients      All connected clients
        â”‚                                 â”‚
        â–¼                                 â–¼
Frontend receives event            Frontend receives event
        â”‚                                 â”‚
        â–¼                                 â–¼
Update UI with new like count      Update UI with new like count
        â”‚                                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        User sees real-time update


FEATURE 5: Activity Logging Flow
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

User Action (Create Post)
        â”‚
        â–¼
POST /api/posts
        â”‚
        â–¼
requestLoggingMiddleware
        â”‚
        â–¼
Create Post in MongoDB
        â”‚
        â–¼
logActivity({eventType: 'post_created', ...})
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â–¼                                 â–¼
Save to ActivityLog                Redis publish('activity-logs')
in MongoDB                                â”‚
        â”‚                                 â–¼
        â”‚                         Redis Subscriber
        â”‚                                 â”‚
        â”‚                                 â–¼
        â”‚                         Socket.IO broadcast
        â”‚                                 â”‚
        â”‚                                 â–¼
        â”‚                         Monitoring Dashboard
        â”‚                                 â”‚
        â–¼                                 â–¼
GET /api/monitoring/logs          Real-time update
        â”‚                                 â”‚
        â–¼                                 â–¼
Query ActivityLog collection      Display new event
        â”‚                                 â”‚
        â–¼                                 â–¼
Return logs to dashboard          User sees activity log


Monitoring Dashboard Query Flow
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

User opens Monitoring Dashboard
        â”‚
        â–¼
Load System Health
GET /api/monitoring/health
        â”‚
        â–¼
Return { status, uptime, memory, cpu }
        â”‚
        â–¼
Display in Health Card
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â–¼                                 â–¼
Load Statistics              Load Activity Logs
GET /api/monitoring/stats    GET /api/monitoring/logs
        â”‚                                 â”‚
        â–¼                                 â–¼
Aggregate from ActivityLog   Query ActivityLog
        â”‚                                 â”‚
        â–¼                                 â–¼
Return stats                 Return logs
        â”‚                                 â”‚
        â–¼                                 â–¼
Display in Stats Card        Display in Logs Card
        â”‚                                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        Dashboard fully loaded
                    â”‚
                    â–¼
        Auto-refresh every 30 seconds

================================================================================
COMPONENT INTERACTION DIAGRAM
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend Components                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  app.js â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”œâ”€â–º realtimeNotifications.js (Feature 3)                           â”‚    â”‚
â”‚   â”‚    â”‚                                                             â”‚    â”‚
â”‚   â”‚    â”œâ”€â–º Socket.IO Client                                         â”‚    â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º post-liked listener                                 â”‚    â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º comment-added listener                              â”‚    â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º post-created listener                               â”‚    â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º user-followed listener                              â”‚    â”‚
â”‚   â”‚    â”‚    â””â”€â–º user-status listener                                â”‚    â”‚
â”‚   â”‚    â”‚                                                             â”‚    â”‚
â”‚   â”‚    â””â”€â–º Notification Display                                     â”‚    â”‚
â”‚   â”‚         â””â”€â–º showNotification()                                  â”‚    â”‚
â”‚   â”‚                                                                  â”‚    â”‚
â”‚   â””â”€â–º monitoring.js (Feature 5)                                     â”‚    â”‚
â”‚        â”‚                                                             â”‚    â”‚
â”‚        â”œâ”€â–º loadHealthStatus()                                       â”‚    â”‚
â”‚        â”‚    â””â”€â–º GET /api/monitoring/health                          â”‚    â”‚
â”‚        â”‚                                                             â”‚    â”‚
â”‚        â”œâ”€â–º loadActivityStats()                                      â”‚    â”‚
â”‚        â”‚    â””â”€â–º GET /api/monitoring/stats                           â”‚    â”‚
â”‚        â”‚                                                             â”‚    â”‚
â”‚        â”œâ”€â–º loadActivityLogs()                                       â”‚    â”‚
â”‚        â”‚    â””â”€â–º GET /api/monitoring/logs                            â”‚    â”‚
â”‚        â”‚                                                             â”‚    â”‚
â”‚        â””â”€â–º setupEventListeners()                                    â”‚    â”‚
â”‚             â””â”€â–º Filter change handler                               â”‚    â”‚
â”‚                                                                      â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backend Components                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  server.js                                                                  â”‚
â”‚   â”‚                                                                         â”‚
â”‚   â”œâ”€â–º Middleware                                                            â”‚
â”‚   â”‚    â”œâ”€â–º requestLoggingMiddleware (Feature 5)                             â”‚
â”‚   â”‚    â””â”€â–º errorLoggingMiddleware (Feature 5)                              â”‚
â”‚   â”‚                                                                         â”‚
â”‚   â”œâ”€â–º Routes                                                                â”‚
â”‚   â”‚    â”œâ”€â–º /api/posts (posts.js)                                           â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º POST /api/posts                                            â”‚
â”‚   â”‚    â”‚    â”‚    â”œâ”€â–º logActivity('post_created')                           â”‚
â”‚   â”‚    â”‚    â”‚    â””â”€â–º emitToAll('new-post')                                 â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º POST /api/posts/:id/like                                   â”‚
â”‚   â”‚    â”‚    â”‚    â”œâ”€â–º logActivity('post_liked')                             â”‚
â”‚   â”‚    â”‚    â”‚    â””â”€â–º emitToAll('post-liked')                               â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º POST /api/posts/:id/comments                               â”‚
â”‚   â”‚    â”‚    â”‚    â”œâ”€â–º logActivity('comment_added')                          â”‚
â”‚   â”‚    â”‚    â”‚    â””â”€â–º emitToAll('comment-added')                            â”‚
â”‚   â”‚    â”‚    â””â”€â–º DELETE /api/posts/:id                                      â”‚
â”‚   â”‚    â”‚         â”œâ”€â–º logActivity('post_deleted')                           â”‚
â”‚   â”‚    â”‚         â””â”€â–º emitToAll('post-deleted')                             â”‚
â”‚   â”‚    â”‚                                                                    â”‚
â”‚   â”‚    â””â”€â–º /api/monitoring (monitoring.js) (Feature 5)                     â”‚
â”‚   â”‚         â”œâ”€â–º GET /api/monitoring/health                                 â”‚
â”‚   â”‚         â”œâ”€â–º GET /api/monitoring/stats                                  â”‚
â”‚   â”‚         â”œâ”€â–º GET /api/monitoring/logs                                   â”‚
â”‚   â”‚         â””â”€â–º GET /api/monitoring/events                                 â”‚
â”‚   â”‚                                                                         â”‚
â”‚   â”œâ”€â–º Services                                                              â”‚
â”‚   â”‚    â”œâ”€â–º socketService.js (Feature 3)                                    â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º initializeSocket()                                         â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º emitToAll()                                                â”‚
â”‚   â”‚    â”‚    â”œâ”€â–º publishToRedis()                                           â”‚
â”‚   â”‚    â”‚    â””â”€â–º subscribeToRedisChannels()                                 â”‚
â”‚   â”‚    â”‚                                                                    â”‚
â”‚   â”‚    â””â”€â–º activityLogger.js (Feature 5)                                   â”‚
â”‚   â”‚         â”œâ”€â–º logActivity()                                              â”‚
â”‚   â”‚         â”œâ”€â–º logApiRequest()                                            â”‚
â”‚   â”‚         â”œâ”€â–º logError()                                                 â”‚
â”‚   â”‚         â”œâ”€â–º getActivityLogs()                                          â”‚
â”‚   â”‚         â””â”€â–º getActivityStats()                                         â”‚
â”‚   â”‚                                                                         â”‚
â”‚   â””â”€â–º Models                                                                â”‚
â”‚        â”œâ”€â–º User.js                                                          â”‚
â”‚        â”œâ”€â–º Post.js                                                          â”‚
â”‚        â””â”€â–º ActivityLog.js (Feature 5)                                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Services & Databases                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  MongoDB                          Redis                                     â”‚
â”‚   â”‚                                â”‚                                       â”‚
â”‚   â”œâ”€â–º users collection             â”œâ”€â–º post-events channel                â”‚
â”‚   â”œâ”€â–º posts collection             â”œâ”€â–º user-events channel                â”‚
â”‚   â””â”€â–º activity_logs (Feature 5)    â””â”€â–º activity-logs channel (Feature 5)  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
REQUEST/RESPONSE FLOW
================================================================================

Scenario 1: User Creates Post
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Frontend: POST /api/posts
   {caption: "Hello World", mediaUrl: "...", ownerId: "user123"}

2. Backend: requestLoggingMiddleware
   - Records request start time
   - Captures method, path, user-agent

3. Backend: POST /api/posts handler
   - Validates input
   - Creates post in MongoDB
   - Calls logActivity('post_created')

4. Backend: logActivity()
   - Saves to ActivityLog collection
   - Publishes to Redis 'activity-logs' channel

5. Backend: emitToAll('new-post')
   - Broadcasts via Socket.IO
   - Publishes to Redis 'post-events' channel

6. Redis: Pub/Sub
   - Subscribers receive messages
   - Distribute to all connected clients

7. Frontend: Socket.IO listener
   - Receives 'new-post' event
   - Updates UI with new post
   - Shows notification

8. Frontend: Monitoring Dashboard
   - Receives activity log via Redis
   - Updates statistics
   - Adds entry to activity logs

9. Backend: Response
   {message: "Post created", post: {...}}

10. Frontend: Display
    - Show post in feed
    - Show success notification
    - Update post count


Scenario 2: User Opens Monitoring Dashboard
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Frontend: Click "ğŸ“Š Monitoring" link
   - Load monitoring view
   - Initialize monitoring.js

2. Frontend: Call loadHealthStatus()
   - GET /api/monitoring/health

3. Backend: GET /api/monitoring/health
   - Get process uptime
   - Get memory usage
   - Get CPU usage
   - Return health data

4. Frontend: Display health card
   - Show status indicator
   - Show uptime
   - Show memory usage

5. Frontend: Call loadActivityStats()
   - GET /api/monitoring/stats?timeRange=24h

6. Backend: GET /api/monitoring/stats
   - Query ActivityLog collection
   - Aggregate by eventType
   - Calculate statistics
   - Return stats

7. Frontend: Display stats card
   - Show event counts
   - Show error count
   - Show total events

8. Frontend: Call loadActivityLogs()
   - GET /api/monitoring/logs?limit=50

9. Backend: GET /api/monitoring/logs
   - Query ActivityLog collection
   - Sort by timestamp descending
   - Return recent logs

10. Frontend: Display logs card
    - Show log entries
    - Show timestamps
    - Show event types

11. Frontend: Setup auto-refresh
    - Refresh every 30 seconds
    - Keep dashboard up-to-date

================================================================================
ERROR HANDLING FLOW
================================================================================

When Error Occurs:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Error thrown in route handler
   try {
     // operation
   } catch (err) {
     // Error caught
   }

2. errorLoggingMiddleware
   - Calls logError(err, req, context)
   - Saves error to ActivityLog
   - Publishes to Redis

3. logError()
   - Records error message
   - Records stack trace
   - Records context information
   - Sets severity to 'error'

4. MongoDB: ActivityLog
   - Stores error record
   - Indexed for quick retrieval

5. Redis: activity-logs channel
   - Publishes error event
   - Subscribers receive notification

6. Frontend: Monitoring Dashboard
   - Receives error event
   - Updates error count
   - Displays error in logs

7. Response to Client
   - Return error status code
   - Return error message
   - Log error for debugging

================================================================================
SCALABILITY CONSIDERATIONS
================================================================================

Current Architecture:
- Single Node.js server
- Single MongoDB instance
- Single Redis instance
- Direct Socket.IO connections

Scaling Strategies:

1. Horizontal Scaling:
   - Multiple Node.js servers
   - Redis Adapter for Socket.IO
   - MongoDB Replica Set
   - Load Balancer (nginx)

2. Vertical Scaling:
   - Increase server resources
   - Optimize database queries
   - Implement caching layer

3. Distributed Logging:
   - Logstash integration
   - ELK Stack
   - Centralized log storage

4. Performance Optimization:
   - Database indexing
   - Query optimization
   - Caching strategy
   - Connection pooling

================================================================================
END OF ARCHITECTURE OVERVIEW
================================================================================
